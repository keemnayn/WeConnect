<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper
	namespace="com.arezip.weconnect.mapper.admin.AdminAttendanceMapper">
	<select id="selectAllAttendance"
		resultType="com.arezip.weconnect.model.dto.AttendanceDTO">
		SELECT
		a.ATTENDANCE_ID AS attendanceId,
		m.MEMBER_NAME AS memberName,
		m.POSITION AS POSITION,
		d.DEPARTMENT_NAME AS departmentName,
		TO_CHAR(a.WORK_DAY, 'YYYY-MM-DD') AS workDay,
		TO_CHAR(a.WORK_IN_TIME,
		'HH24:MI') AS workInTime,
		TO_CHAR(a.WORK_OUT_TIME, 'HH24:MI') AS
		workOutTime,
		a.ATTENDANCE_STATUS AS attendanceStatus
		FROM
		WECONNECT.ATTENDANCE a
		INNER JOIN MEMBER m ON
		a.MEMBER_ID = m.MEMBER_ID
		INNER JOIN DEPARTMENT d ON
		d.DEPARTMENT_ID = m.DEPARTMENT_ID
		WHERE
		a.WORK_OUT_TIME IS NOT NULL
		ORDER BY
		a.ATTENDANCE_ID DESC
	</select>
</mapper>